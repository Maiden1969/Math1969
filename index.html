<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Math1969:分享初等数学中的趣题，难题集萃">
    <meta http-equiv="Cache-Control" content="no-cache">
    <title>Math1969</title>
    <style>
        .container {
            display: flex;
            text-align: center;
        }

        .box {
            width: 50%;
            height: 100px;
            border: 1px solid black;
        }

        .box1 {
            background-color: lightblue;
        }

        .box2 {
            background-color: lightgreen;
        }
    </style>

    <!-- 确保桌面应用的背景是白色 原理未知-->
    <style>
        body {
            background-color: white;
        }
    </style>

    <!-- Waline -->
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css" />
    <!-- 引入layui.css -->
    <link rel="stylesheet" href="./layui/css/layui.css">
    <!-- 引入layui.js -->
    <script src="./layui/layui.js"></script>

</head>

<!-- 网页公告 -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetch('/announcement.json')
            .then(response => response.json())
            .then(data => {
                const currentVersion = data.version;
                const storedVersion = localStorage.getItem('version');

                // if (storedVersion === null || storedVersion !== currentVersion) {
                //     layui.use('layer', function () {
                //         var layer = layui.layer;
                //         layer.open({
                //             title: '更新公告',
                //             content: data.message.replace(/\n/g, '<br>'), // 将换行符\n替换为 <br>
                //             btn: ['确定'],
                //             yes: function (index, layero) {
                //                 // 关闭弹窗
                //                 layer.close(index);
                //             }
                //         });
                //     });
                //     localStorage.setItem('version', currentVersion);
                // }
                layui.use('layer', function () {
                    var layer = layui.layer;
                    layer.open({
                        title: '更新公告',
                        content: data.message.replace(/\n/g, '<br>'), // 将换行符\n替换为 <br>
                        btn: ['确定'],
                        yes: function (index, layero) {
                            // 关闭弹窗
                            layer.close(index);
                        }
                    });
                });
            })
            .catch(error => console.error('Error fetching announcement:', error));
    });
</script>

<!--轮播图-->
<div class="layui-carousel" id="my_carousel">
    <div carousel-item>
        <center>
            <div style="font-size: 65px;">Math1969.com</div>
        </center>
        <center>
            <div style="font-size: 65px;">分享各种数学内容</div>
        </center>
        <center>
            <div style="font-size: 65px;">经常更新</div>
        </center>
    </div>
</div>

<!--导航页-->
<div class="layui-bg-gray" style="padding: 16px 50px 16px 50px;">
    <div class="layui-row layui-col-space30">
        <div class="layui-col-md6">
            <div class="layui-card">
                <fieldset class="layui-elem-field">
                    <center>
                        <legend>获取应用程序</legend>
                        <div class="layui-field-box">
                            <blockquote class="layui-elem-quote" style="font-style: italic;">
                                手机端目前只支持安卓，电脑端只支持windows，下载时请添加信任
                            </blockquote>
                            <a href="apk/math1969-release.apk" class="layui-btn layui-bg-blue"
                                download="math1969-release.apk">手机端下载</a>
                            <a href="exe/mysetup.exe" class="layui-btn layui-bg-blue" download="mysetup.exe"
                                id="setup">电脑端下载</a>
                        </div>
                    </center>
                </fieldset>
            </div>
        </div>
        <div class="layui-col-md6">
            <div class="layui-card">
                <fieldset class="layui-elem-field">
                    <center>
                        <legend>集萃</legend>
                        <div class="layui-field-box">
                            <blockquote class="layui-elem-quote" style="font-style: italic;">
                                分享有意思的题目，具有一定的深度和难度
                            </blockquote>
                            <a href="puzzles/集萃.html" class="layui-btn" target="_blank">进入</a>
                        </div>
                    </center>
                </fieldset>
            </div>
        </div>
        <div class="layui-col-md6">
            <div class="layui-card">
                <fieldset class="layui-elem-field">
                    <center>
                        <legend>专题练习</legend>
                        <div class="layui-field-box">
                            <blockquote class="layui-elem-quote" style="font-style: italic;">
                                针对不同章节的专项练习题，以中档题为主
                            </blockquote>
                            <a href="puzzles/专题练习.html" class="layui-btn" target="_blank">进入</a>
                        </div>
                    </center>
                </fieldset>
            </div>
        </div>
        <div class="layui-col-md6">
            <div class="layui-card">
                <fieldset class="layui-elem-field">
                    <center>
                        <legend>复习参考</legend>
                        <div class="layui-field-box">
                            <blockquote class="layui-elem-quote" style="font-style: italic;">
                                本人编写的复习资料、讲义
                            </blockquote>
                            <a href="reviews/复习.html" class="layui-btn" target="_blank">进入</a>
                        </div>
                    </center>
                </fieldset>
            </div>
        </div>
        <div class="layui-col-md6">
            <div class="layui-card">
                <fieldset class="layui-elem-field">
                    <center>
                        <legend>试卷评讲</legend>
                        <div class="layui-field-box">
                            <blockquote class="layui-elem-quote" style="font-style: italic;">
                                评讲太中月考，周考试卷
                            </blockquote>
                            <a href="tz_papers/太中试卷.html" class="layui-btn" target="_blank">进入</a>
                        </div>
                    </center>

                </fieldset>
            </div>
        </div>
        <div class="layui-col-md6">
            <div class="layui-card">
                <fieldset class="layui-elem-field">
                    <center>
                        <legend>敬请期待</legend>
                        <div class="layui-field-box">
                            <blockquote class="layui-elem-quote" style="font-style: italic;">
                                ...
                            </blockquote>
                        </div>
                    </center>

                </fieldset>
            </div>
        </div>
    </div>
</div>

<!-- 下载桌面端应用时，提示用户添加快捷方式 -->
<script>
    document.getElementById('setup').addEventListener('click', function () {
        var layer = layui.layer;
        layer.open({
            title: '下载提示',
            content: '下载setup文件后，如果浏览器提示不安全，点击删除按钮右边的三个点，选择"保留"->"详细信息"->"仍然保留"。运行setup文件后，进入安装程序，在第一个界面勾选"Create a desktop shortcut"，这是用来添加桌面快捷方式的。然后依次点击"Next"->"Install"->"Finish"即可',
            btn: ['我知道了', '我真的知道了'],
            yes: function (index, layero) {
                layer.close(index);
            },
            btn2: function (index, layero) {
                layer.close(index);
            }
        })
    });     
</script>

<br>
<br>
<br>
<br>

<!--按钮小功能-->
<button type="button" class="layui-btn layui-btn-sm layui-btn-warm" id='refreshBtn' onclick="location.reload()">
    <i class="layui-icon layui-icon-refresh-3"></i>
</button>
刷新页面
<button type="button" class="layui-btn layui-btn-sm layui-btn-normal" id="playButton" lay-on="tips">
    <i class="layui-icon layui-icon-headset"></i>
</button>
学累了就来听会歌吧
<audio id="musicPlayer" src="music/天鸟船神社.mp3" preload="auto" loop></audio>

<script>
    document.getElementById('refreshBtn').addEventListener('click', function () {
        location.reload();
    });
</script>
<script>
    document.getElementById('playButton').addEventListener('click', function () {
        var audio = document.getElementById('musicPlayer');
        if (audio.getAttribute('controls')) {
            audio.removeAttribute('controls');
        } else {
            audio.setAttribute('controls', true);
            layer.tips('曲名：天鸟船神社的结界', this, {
                tips: 1
            });
        }
    });
</script>

<!-- 评论区 -->
<div id="waline"></div>
<script type="module">
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';

    init({
        el: '#waline',
        serverURL: 'https://vercel.zkrmath.xyz',
    });
</script>

<div id="my_carousel_render"></div>
<script>
    layui.use(function () {
        var carousel = layui.carousel;

        // 渲染 - 设置时间间隔、动画类型、宽高度等属性
        carousel.render({
            elem: '#my_carousel',
            interval: 1300,
            anim: 'fade',
            width: 'auto',
            height: '150px'
        });
    });
</script>

<!-- 修改位置,left或者right -->
<div class="pio-container right">
    <div class="pio-action"></div>
    <!-- 修改大小 -->
    <canvas id="pio" width="180" height="220"></canvas>
</div>
<link rel="stylesheet" href="banniang/css/pio.css">
<script src="banniang/js/pio.js"></script>
<script src="banniang/js/l2d.js"></script>
<script>
    var pio = new Paul_Pio({
        "mode": "fixed",
        "tips": true,
        "hidden": true,
        "content": {
            "welcome": ["欢迎来到Math1969！", "博主每天都有些折腾记录，欢迎前往他的小窝阅读~"],
        },
        "model": [
            "banniang/live2d-widget-models/live2d-widget-model-wanko/assets/wanko.model.json", //狗?!
        ]
    });
</script>



</body>

</html>